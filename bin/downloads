#!/usr/bin/env ruby
# not using ruby -w since Hpricot issues a warning

$:.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'downloads'

command = Downloads::Commands.lookup(ARGV)
if command.valid?
  command.run
else
  puts "Usage: downloads #{command.usage}"
  exit 1
end
